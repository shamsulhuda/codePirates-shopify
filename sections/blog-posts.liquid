<!--Latest Blog-->
<div class="latest-blog section pt-0">
  <div class="container">
      <div class="row">
          <div class="col-12 col-sm-12 col-md-12 col-lg-12">
              <div class="section-header text-center">
                {% if section.settings.title != blank %}
                  <h2 class="h2">{{ section.settings.title | escape }}</h2>
                {% endif %}
              </div>
          </div>
      </div>
      <div class="row">
        {%- assign blog = blogs[section.settings.blog] -%}
        {% for article in blog.articles limit: section.settings.post_limit %}
          <div class="col-12 col-sm-12 col-md-6 col-lg-6">
              <div class="wrap-blog">
                  <a href="{{ article.url }}" class="article__grid-image">
                    {% if article.image %}
                      <img src="{{ article.image | img_url:'master' }}" alt="{{ article.title }}" title="{{ article.title }}" class="blur-up lazyloaded"/>
                    {% endif %}
                  </a>
                  <div class="article__grid-meta article__grid-meta--has-image">
                      <div class="wrap-blog-inner">
                          <h2 class="h3 article__title">
                            <a href="{{ article.url }}">{{ article.title }}</a>
                          </h2>
                          <span class="article__date">{{ article.published_at | time_tag: format: 'month_day_year' }}</span>
                          <div class="rte article__grid-excerpt">
                            {% if article.excerpt.size > 0 %}
                              {{ article.excerpt }}
                            {% else %}
                              {{ article.content | strip_html | truncate: 150 }}
                            {% endif %}
                          </div>
                          <ul class="list--inline article__meta-buttons">
                              <li><a href="{{ article.url }}">Read more</a></li>
                          </ul>
                      </div>
                  </div>
              </div>
          </div>
          {% endfor %}
      </div>
  </div>
</div>
<!--End Latest Blog-->

{% schema %}
  {
    "name": "Blog posts",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Heading",
        "default": "Blog posts"
      },
      {
        "id": "blog",
        "type": "blog",
        "label": "Blog"
      },
      {
        "type": "range",
        "id": "post_limit",
        "label": "Posts",
        "min": 1,
        "max": 12,
        "step": 1,
        "default": 2
      },
      {
        "type": "checkbox",
        "id": "blog_show_author",
        "label": "Show author",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "blog_show_date",
        "label": "Show date",
        "default": true
      }
    ],
    "presets": [
      {
        "name": "Blog posts",
        "category": "Blog",
        "settings": {
          "blog": "News",
          "post_limit": 2
        }
      }
    ]
  }
{% endschema %}
